<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
  </head>
  <body>
    <a href="./ind.html"> ADD DATA</a>
    <h1>User data -</h1>
    <button onclick="getdata()">GET DATA</button>
    <div id="data"></div>

    <script>
      function getdata() {
        let users = JSON.parse(localStorage.getItem("users")) || [];
        if (users.length == 0) {
          let ele = document.getElementById("data");
          ele.innerText = "NO users found";
          return;
        }
        let tableEle = document.createElement("table");
        tableEle.className = "user-table";
        let theadEle = document.createElement("thead");
        let tBody = document.createElement("tbody");

        let tr = document.createElement("tr");

        let th1 = document.createElement("th");
        th1.innerText = "Name";
        tr.appendChild(th1);

        let th2 = document.createElement("th");
        th2.innerText = "Email";
        tr.appendChild(th2);

        let th3 = document.createElement("th");
        th3.innerText = "Password";
        tr.appendChild(th3);

        let th4 = document.createElement("th");
        th4.innerText = "Roll no.";
        tr.appendChild(th4);

        theadEle.appendChild(tr);

        for (let i = 0; i < users.length; i++) {
          let tr = document.createElement("tr");

          let td1 = document.createElement("td");
          td1.innerText = users[i].name;
          tr.appendChild(td1);

          let td2 = document.createElement("td");
          td2.innerText = users[i].email;
          tr.appendChild(td2);

          let td3 = document.createElement("td");
          td3.innerText = users[i].password;
          tr.appendChild(td3);

          let td4 = document.createElement("td");
          td4.innerText = users[i].roll;
          tr.appendChild(td4);

          tBody.appendChild(tr);
        }

        tableEle.appendChild(theadEle);
        tableEle.appendChild(tBody);

        data.appendChild(tableEle);

        let style = document.createElement("style");
        style.textContent = `
              .user-table {
                border-collapse: collapse;
                
              }
              .user-table th, .user-table td {
                border: 1px solid #ddd;
                padding: 8px;
                text-align: center;
              }
              .user-table th {
                background-color: #f2f2f2;
              }
            `;
        document.head.appendChild(style);
      }
    </script>
  </body>
</html>
